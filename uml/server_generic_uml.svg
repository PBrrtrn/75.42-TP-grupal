<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="822px" preserveAspectRatio="none" style="width:1239px;height:822px;" version="1.1" viewBox="0 0 1239 822" width="1239px" zoomAndPan="magnify"><defs><filter height="300%" id="fyz436jppqyfj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[3bea53ccf6733ec0a6bd6e135d4751c0]
class ReceiveClientMessages--><rect codeLine="1" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="99.2188" id="ReceiveClientMessages" style="stroke:#A80036;stroke-width:1.5;" width="373" x="248" y="517.5"/><ellipse cx="357.25" cy="533.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M360.2188,539.1406 Q359.6406,539.4375 359,539.5781 Q358.3594,539.7344 357.6563,539.7344 Q355.1563,539.7344 353.8281,538.0938 Q352.5156,536.4375 352.5156,533.3125 Q352.5156,530.1875 353.8281,528.5313 Q355.1563,526.875 357.6563,526.875 Q358.3594,526.875 359,527.0313 Q359.6563,527.1875 360.2188,527.4844 L360.2188,530.2031 Q359.5938,529.625 359,529.3594 Q358.4063,529.0781 357.7813,529.0781 Q356.4375,529.0781 355.75,530.1563 Q355.0625,531.2188 355.0625,533.3125 Q355.0625,535.4063 355.75,536.4844 Q356.4375,537.5469 357.7813,537.5469 Q358.4063,537.5469 359,537.2813 Q359.5938,537 360.2188,536.4219 L360.2188,539.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="146" x="377.75" y="537.6543">ReceiveClientMessages</text><line style="stroke:#A80036;stroke-width:1.5;" x1="249" x2="620" y1="549.5" y2="549.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="254" y="563.7104">ProtectedQueue&lt;Message&gt;* messages</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="254" y="576.5151">Socket peer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="249" x2="620" y1="583.1094" y2="583.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="361" x="254" y="597.3198">assignToGameQueue(ProtectedQueue&lt;Message&gt;* messages)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="254" y="610.1245">Socket&amp; getPeerReference()</text><!--MD5=[30d3d66b26596bc6e69208cfad4dc670]
class ThreadAcceptor--><rect codeLine="2" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="124.8281" id="ThreadAcceptor" style="stroke:#A80036;stroke-width:1.5;" width="229" x="928" y="141"/><ellipse cx="988.25" cy="157" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M991.2188,162.6406 Q990.6406,162.9375 990,163.0781 Q989.3594,163.2344 988.6563,163.2344 Q986.1563,163.2344 984.8281,161.5938 Q983.5156,159.9375 983.5156,156.8125 Q983.5156,153.6875 984.8281,152.0313 Q986.1563,150.375 988.6563,150.375 Q989.3594,150.375 990,150.5313 Q990.6563,150.6875 991.2188,150.9844 L991.2188,153.7031 Q990.5938,153.125 990,152.8594 Q989.4063,152.5781 988.7813,152.5781 Q987.4375,152.5781 986.75,153.6563 Q986.0625,154.7188 986.0625,156.8125 Q986.0625,158.9063 986.75,159.9844 Q987.4375,161.0469 988.7813,161.0469 Q989.4063,161.0469 990,160.7813 Q990.5938,160.5 991.2188,159.9219 L991.2188,162.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="1008.75" y="161.1543">ThreadAcceptor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="929" x2="1156" y1="173" y2="173"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="934" y="187.2104">Socket socket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="934" y="200.0151">BlockingQueue&lt;Message&gt; messages</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="934" y="212.8198">GameManager gameManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="929" x2="1156" y1="219.4141" y2="219.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="934" y="233.6245">void acceptConnection()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="934" y="246.4292">virtual void run() override</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="934" y="259.2339">void shutdown()</text><!--MD5=[3f436c9825679e3c1347a6e8427609f2]
class ThreadClient--><rect codeLine="3" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="265.6797" id="ThreadClient" style="stroke:#A80036;stroke-width:1.5;" width="403" x="656" y="434"/><ellipse cx="813.75" cy="450" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M816.7188,455.6406 Q816.1406,455.9375 815.5,456.0781 Q814.8594,456.2344 814.1563,456.2344 Q811.6563,456.2344 810.3281,454.5938 Q809.0156,452.9375 809.0156,449.8125 Q809.0156,446.6875 810.3281,445.0313 Q811.6563,443.375 814.1563,443.375 Q814.8594,443.375 815.5,443.5313 Q816.1563,443.6875 816.7188,443.9844 L816.7188,446.7031 Q816.0938,446.125 815.5,445.8594 Q814.9063,445.5781 814.2813,445.5781 Q812.9375,445.5781 812.25,446.6563 Q811.5625,447.7188 811.5625,449.8125 Q811.5625,451.9063 812.25,452.9844 Q812.9375,454.0469 814.2813,454.0469 Q814.9063,454.0469 815.5,453.7813 Q816.0938,453.5 816.7188,452.9219 L816.7188,455.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="834.25" y="454.1543">ThreadClient</text><line style="stroke:#A80036;stroke-width:1.5;" x1="657" x2="1058" y1="466" y2="466"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="662" y="480.2104">BlockingQueue&lt;Message&gt;* messages_out</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="662" y="493.0151">Socket&amp; peer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="662" y="505.8198">ServerStatus serverStatus</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="662" y="518.6245">LobbyStatus&amp; lobbyStatus</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="662" y="531.4292">ClientGameStatus* game_status</text><line style="stroke:#A80036;stroke-width:1.5;" x1="657" x2="1058" y1="538.0234" y2="538.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="662" y="552.2339">virtual void run() override</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="662" y="565.0386">void shutdown()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="391" x="662" y="577.8433">void assignToOutQueue(BlockingQueue&lt;Message&gt;* messages_out)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="285" x="662" y="590.6479">void assignToGameStatus(ClientGameStatus* gs)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="662" y="603.4526">void sendGamesList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="662" y="616.2573">void sendMapsList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="662" y="629.062">void sendLobbyStatus(int gameID)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="662" y="641.8667">void sendGameStatistics()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="662" y="654.6714">void informClientId()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="662" y="667.4761">void sendCurrentGameMap()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="662" y="680.2808">void informNothingToReport()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="290" x="662" y="693.0854">void informSomethingToReport(MessageType type)</text><!--MD5=[bc64bb281ab94a7b933473e437a7b7ac]
class ThreadGame--><rect codeLine="4" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="48" id="ThreadGame" style="stroke:#A80036;stroke-width:1.5;" width="112" x="29.5" y="543"/><ellipse cx="44.5" cy="559" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M47.4688,564.6406 Q46.8906,564.9375 46.25,565.0781 Q45.6094,565.2344 44.9063,565.2344 Q42.4063,565.2344 41.0781,563.5938 Q39.7656,561.9375 39.7656,558.8125 Q39.7656,555.6875 41.0781,554.0313 Q42.4063,552.375 44.9063,552.375 Q45.6094,552.375 46.25,552.5313 Q46.9063,552.6875 47.4688,552.9844 L47.4688,555.7031 Q46.8438,555.125 46.25,554.8594 Q45.6563,554.5781 45.0313,554.5781 Q43.6875,554.5781 43,555.6563 Q42.3125,556.7188 42.3125,558.8125 Q42.3125,560.9063 43,561.9844 Q43.6875,563.0469 45.0313,563.0469 Q45.6563,563.0469 46.25,562.7813 Q46.8438,562.5 47.4688,561.9219 L47.4688,564.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="58.5" y="563.1543">ThreadGame</text><line style="stroke:#A80036;stroke-width:1.5;" x1="30.5" x2="140.5" y1="575" y2="575"/><line style="stroke:#A80036;stroke-width:1.5;" x1="30.5" x2="140.5" y1="583" y2="583"/><!--MD5=[948346f2dfe9866ea883595a582714fa]
class Thread--><rect codeLine="5" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="48" id="Thread" style="stroke:#A80036;stroke-width:1.5;" width="76" x="581.5" y="20"/><ellipse cx="596.5" cy="36" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M599.4688,41.6406 Q598.8906,41.9375 598.25,42.0781 Q597.6094,42.2344 596.9063,42.2344 Q594.4063,42.2344 593.0781,40.5938 Q591.7656,38.9375 591.7656,35.8125 Q591.7656,32.6875 593.0781,31.0313 Q594.4063,29.375 596.9063,29.375 Q597.6094,29.375 598.25,29.5313 Q598.9063,29.6875 599.4688,29.9844 L599.4688,32.7031 Q598.8438,32.125 598.25,31.8594 Q597.6563,31.5781 597.0313,31.5781 Q595.6875,31.5781 595,32.6563 Q594.3125,33.7188 594.3125,35.8125 Q594.3125,37.9063 595,38.9844 Q595.6875,40.0469 597.0313,40.0469 Q597.6563,40.0469 598.25,39.7813 Q598.8438,39.5 599.4688,38.9219 L599.4688,41.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="610.5" y="40.1543">Thread</text><line style="stroke:#A80036;stroke-width:1.5;" x1="582.5" x2="656.5" y1="52" y2="52"/><line style="stroke:#A80036;stroke-width:1.5;" x1="582.5" x2="656.5" y1="60" y2="60"/><!--MD5=[ebecb9917226677787fac7e9a2731304]
class GameManager--><rect codeLine="6" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="48" id="GameManager" style="stroke:#A80036;stroke-width:1.5;" width="123" x="488" y="326"/><ellipse cx="503" cy="342" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M505.9688,347.6406 Q505.3906,347.9375 504.75,348.0781 Q504.1094,348.2344 503.4063,348.2344 Q500.9063,348.2344 499.5781,346.5938 Q498.2656,344.9375 498.2656,341.8125 Q498.2656,338.6875 499.5781,337.0313 Q500.9063,335.375 503.4063,335.375 Q504.1094,335.375 504.75,335.5313 Q505.4063,335.6875 505.9688,335.9844 L505.9688,338.7031 Q505.3438,338.125 504.75,337.8594 Q504.1563,337.5781 503.5313,337.5781 Q502.1875,337.5781 501.5,338.6563 Q500.8125,339.7188 500.8125,341.8125 Q500.8125,343.9063 501.5,344.9844 Q502.1875,346.0469 503.5313,346.0469 Q504.1563,346.0469 504.75,345.7813 Q505.3438,345.5 505.9688,344.9219 L505.9688,347.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="517" y="346.1543">GameManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="489" x2="610" y1="358" y2="358"/><line style="stroke:#A80036;stroke-width:1.5;" x1="489" x2="610" y1="366" y2="366"/><!--MD5=[f28065692c26ab0fa9564e65423900b5]
class ProtectedQueue--><rect codeLine="7" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="48" id="ProtectedQueue" style="stroke:#A80036;stroke-width:1.5;" width="135" x="151" y="760"/><ellipse cx="166" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M168.9688,781.6406 Q168.3906,781.9375 167.75,782.0781 Q167.1094,782.2344 166.4063,782.2344 Q163.9063,782.2344 162.5781,780.5938 Q161.2656,778.9375 161.2656,775.8125 Q161.2656,772.6875 162.5781,771.0313 Q163.9063,769.375 166.4063,769.375 Q167.1094,769.375 167.75,769.5313 Q168.4063,769.6875 168.9688,769.9844 L168.9688,772.7031 Q168.3438,772.125 167.75,771.8594 Q167.1563,771.5781 166.5313,771.5781 Q165.1875,771.5781 164.5,772.6563 Q163.8125,773.7188 163.8125,775.8125 Q163.8125,777.9063 164.5,778.9844 Q165.1875,780.0469 166.5313,780.0469 Q167.1563,780.0469 167.75,779.7813 Q168.3438,779.5 168.9688,778.9219 L168.9688,781.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="180" y="780.1543">ProtectedQueue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="152" x2="285" y1="792" y2="792"/><line style="stroke:#A80036;stroke-width:1.5;" x1="152" x2="285" y1="800" y2="800"/><!--MD5=[10c8066ce5c6dabe6ea36d69e6deeabd]
class BlockingQueue--><rect codeLine="8" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="48" id="BlockingQueue" style="stroke:#A80036;stroke-width:1.5;" width="125" x="727" y="760"/><ellipse cx="742" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M744.9688,781.6406 Q744.3906,781.9375 743.75,782.0781 Q743.1094,782.2344 742.4063,782.2344 Q739.9063,782.2344 738.5781,780.5938 Q737.2656,778.9375 737.2656,775.8125 Q737.2656,772.6875 738.5781,771.0313 Q739.9063,769.375 742.4063,769.375 Q743.1094,769.375 743.75,769.5313 Q744.4063,769.6875 744.9688,769.9844 L744.9688,772.7031 Q744.3438,772.125 743.75,771.8594 Q743.1563,771.5781 742.5313,771.5781 Q741.1875,771.5781 740.5,772.6563 Q739.8125,773.7188 739.8125,775.8125 Q739.8125,777.9063 740.5,778.9844 Q741.1875,780.0469 742.5313,780.0469 Q743.1563,780.0469 743.75,779.7813 Q744.3438,779.5 744.9688,778.9219 L744.9688,781.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="756" y="780.1543">BlockingQueue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="728" x2="851" y1="792" y2="792"/><line style="stroke:#A80036;stroke-width:1.5;" x1="728" x2="851" y1="800" y2="800"/><!--MD5=[c60af77fe5573b84a4aa4bce89659574]
class Server--><rect codeLine="9" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="73.6094" id="Server" style="stroke:#A80036;stroke-width:1.5;" width="154" x="965.5" y="7"/><ellipse cx="1018.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1021.2188,28.6406 Q1020.6406,28.9375 1020,29.0781 Q1019.3594,29.2344 1018.6563,29.2344 Q1016.1563,29.2344 1014.8281,27.5938 Q1013.5156,25.9375 1013.5156,22.8125 Q1013.5156,19.6875 1014.8281,18.0313 Q1016.1563,16.375 1018.6563,16.375 Q1019.3594,16.375 1020,16.5313 Q1020.6563,16.6875 1021.2188,16.9844 L1021.2188,19.7031 Q1020.5938,19.125 1020,18.8594 Q1019.4063,18.5781 1018.7813,18.5781 Q1017.4375,18.5781 1016.75,19.6563 Q1016.0625,20.7188 1016.0625,22.8125 Q1016.0625,24.9063 1016.75,25.9844 Q1017.4375,27.0469 1018.7813,27.0469 Q1019.4063,27.0469 1020,26.7813 Q1020.5938,26.5 1021.2188,25.9219 L1021.2188,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="1038.75" y="27.1543">Server</text><line style="stroke:#A80036;stroke-width:1.5;" x1="966.5" x2="1118.5" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="971.5" y="53.2104">ThreadAcceptor acceptor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="966.5" x2="1118.5" y1="59.8047" y2="59.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="971.5" y="74.0151">start()</text><!--MD5=[8f07f51d887e64eddc161f608ee0ddb0]
class Socket--><rect codeLine="10" fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="48" id="Socket" style="stroke:#A80036;stroke-width:1.5;" width="75" x="887" y="760"/><ellipse cx="902" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M904.9688,781.6406 Q904.3906,781.9375 903.75,782.0781 Q903.1094,782.2344 902.4063,782.2344 Q899.9063,782.2344 898.5781,780.5938 Q897.2656,778.9375 897.2656,775.8125 Q897.2656,772.6875 898.5781,771.0313 Q899.9063,769.375 902.4063,769.375 Q903.1094,769.375 903.75,769.5313 Q904.4063,769.6875 904.9688,769.9844 L904.9688,772.7031 Q904.3438,772.125 903.75,771.8594 Q903.1563,771.5781 902.5313,771.5781 Q901.1875,771.5781 900.5,772.6563 Q899.8125,773.7188 899.8125,775.8125 Q899.8125,777.9063 900.5,778.9844 Q901.1875,780.0469 902.5313,780.0469 Q903.1563,780.0469 903.75,779.7813 Q904.3438,779.5 904.9688,778.9219 L904.9688,781.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="43" x="916" y="780.1543">Socket</text><line style="stroke:#A80036;stroke-width:1.5;" x1="888" x2="961" y1="792" y2="792"/><line style="stroke:#A80036;stroke-width:1.5;" x1="888" x2="961" y1="800" y2="800"/><!--MD5=[48fd9ba0f431717e30ffacaf4852bc92]
class GameStatus--><rect fill="#FEFECE" filter="url(#fyz436jppqyfj)" height="48" id="GameStatus" style="stroke:#A80036;stroke-width:1.5;" width="109" x="7" y="760"/><ellipse cx="22" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M24.9688,781.6406 Q24.3906,781.9375 23.75,782.0781 Q23.1094,782.2344 22.4063,782.2344 Q19.9063,782.2344 18.5781,780.5938 Q17.2656,778.9375 17.2656,775.8125 Q17.2656,772.6875 18.5781,771.0313 Q19.9063,769.375 22.4063,769.375 Q23.1094,769.375 23.75,769.5313 Q24.4063,769.6875 24.9688,769.9844 L24.9688,772.7031 Q24.3438,772.125 23.75,771.8594 Q23.1563,771.5781 22.5313,771.5781 Q21.1875,771.5781 20.5,772.6563 Q19.8125,773.7188 19.8125,775.8125 Q19.8125,777.9063 20.5,778.9844 Q21.1875,780.0469 22.5313,780.0469 Q23.1563,780.0469 23.75,779.7813 Q24.3438,779.5 24.9688,778.9219 L24.9688,781.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="36" y="780.1543">GameStatus</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="115" y1="792" y2="792"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="115" y1="800" y2="800"/><!--MD5=[01a7d47ec62bd03ae5d80126c8e76d1a]
reverse link Server to ThreadAcceptor--><path codeLine="45" d="M1042.5,94.4009 C1042.5,109.1122 1042.5,125.3719 1042.5,140.7476 " fill="none" id="Server-backto-ThreadAcceptor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1042.5,81.3957,1038.5,87.3957,1042.5,93.3957,1046.5,87.3957,1042.5,81.3957" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f7db66eee58e8b9a16e109d35d284983]
reverse link ThreadAcceptor to Socket--><path codeLine="46" d="M1112.2733,276.836 C1123.0362,292.048 1132.5411,308.7356 1138.5,326 C1192.733,483.1261 1232.1332,562.6586 1138.5,700 C1117.9845,730.0922 1017.962,759.9694 962.2184,774.6449 " fill="none" id="ThreadAcceptor-backto-Socket" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1104.2466,266.033,1104.6143,273.2347,1111.4034,275.6652,1111.0358,268.4635,1104.2466,266.033" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[47343c8a05df53115bb9a6598280498d]
reverse link ThreadAcceptor to BlockingQueue--><path codeLine="47" d="M1075.4355,278.5683 C1116.0623,383.9694 1169.1341,576.7025 1076.5,700 C1018.9639,776.5814 961.3746,732.9043 869.5,760 C863.9367,761.6407 858.1589,763.3547 852.3693,765.0789 " fill="none" id="ThreadAcceptor-backto-BlockingQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1070.5533,266.158,1069.0275,273.2058,1074.9463,277.325,1076.4721,270.2771,1070.5533,266.158" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2822370ead81644f4ef78791b2948b88]
reverse link ThreadAcceptor to GameManager--><path codeLine="48" d="M915.2061,241.3267 C817.5861,270.3355 687.1133,309.1068 611.2971,331.6364 " fill="none" id="ThreadAcceptor-backto-GameManager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="927.8463,237.5705,920.9555,235.4453,916.3434,240.9887,923.2342,243.1139,927.8463,237.5705" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1ed54c3e5020f6347d844cfb7b3f1184]
reverse link GameManager to ProtectedQueue--><path codeLine="50" d="M475.0333,359.3265 C390.6159,371.5806 260.7616,396.0995 230.5,434 C152.5409,531.638 192.0101,698.0551 210.6156,759.9124 " fill="none" id="GameManager-backto-ProtectedQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="487.9121,357.5006,481.41,354.3825,476.0309,359.1852,482.5331,362.3033,487.9121,357.5006" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7f1fd960b892da287f21b72eac4049b7]
reverse link GameManager to ThreadGame--><path codeLine="51" d="M474.5668,359.5235 C378.0848,372.9586 217.0474,399.7113 168.5,434 C129.9281,461.2431 105.5153,512.6491 93.7864,542.9525 " fill="none" id="GameManager-backto-ThreadGame" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="487.7339,357.7168,481.2458,354.5697,475.8453,359.3483,482.3334,362.4954,487.7339,357.7168" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c3416dc337c2bf92dcb1494172a475fe]
reverse link GameManager to ReceiveClientMessages--><path codeLine="52" d="M530.4859,385.8787 C511.454,421.7911 482.0223,477.3274 460.7662,517.4369 " fill="none" id="GameManager-backto-ReceiveClientMessages" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="536.7536,374.0519,530.4097,377.4804,531.1345,384.655,537.4784,381.2265,536.7536,374.0519" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4a3d0f8df3e9cc8bd80bb82661a254a8]
reverse link GameManager to ThreadClient--><path codeLine="53" d="M594.5141,381.7145 C615.1232,396.2345 641.074,414.518 668.5946,433.9076 " fill="none" id="GameManager-backto-ThreadClient" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="583.6382,374.0519,586.2393,380.7776,593.448,380.9634,590.8469,374.2377,583.6382,374.0519" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c5ac4c021a6f11041830751f2d8f9186]
reverse link ReceiveClientMessages to ProtectedQueue--><path codeLine="55" d="M375.8213,625.9504 C332.0626,669.9117 274.5467,727.6938 242.5768,759.8118 " fill="none" id="ReceiveClientMessages-backto-ProtectedQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="385.216,616.5122,378.1482,617.9427,376.7503,625.017,383.8181,623.5865,385.216,616.5122" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4c7071563261bcead7af728ba3b72821]
reverse link ReceiveClientMessages to Socket--><path codeLine="56" d="M509.6389,624.4041 C546.7875,650.5375 593.2687,680.0209 638.5,700 C735.5293,742.8588 769.2464,725.3478 869.5,760 C875.211,761.974 881.1574,764.2854 886.9393,766.6801 " fill="none" id="ReceiveClientMessages-backto-Socket" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="498.9209,616.7753,501.4895,623.5134,508.6973,623.7339,506.1286,616.9958,498.9209,616.7753" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[013ded52f064711aed883b4b0e87e7d7]
reverse link ThreadGame to ProtectedQueue--><path codeLine="58" d="M107.0427,602.1486 C134.2037,646.4639 180.1822,721.4814 203.6925,759.8404 " fill="none" id="ThreadGame-backto-ProtectedQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="100.2415,591.0519,99.9664,598.2578,106.5122,601.2831,106.7873,594.0773,100.2415,591.0519" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[99c175df014cae412f2891de0e2ffb2d]
reverse link ThreadGame to BlockingQueue--><path codeLine="59" d="M112.1847,601.047 C138.6596,632.2221 182.1775,676.913 230.5,700 C317.3904,741.5136 599.5722,768.7434 726.5604,779.1927 " fill="none" id="ThreadGame-backto-BlockingQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="103.8774,591.0435,104.6334,598.2149,111.5439,600.2752,110.7879,593.1039,103.8774,591.0435" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[84685d034a947785d9b7986eb8687fe4]
reverse link ThreadGame to GameStatus--><path codeLine="60" d="M81.3914,604.1488 C76.4651,648.6903 68.3513,722.0527 64.172,759.8404 " fill="none" id="ThreadGame-backto-GameStatus" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="82.8399,591.0519,78.2045,596.5758,81.5207,602.9792,86.156,597.4553,82.8399,591.0519" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6863a0c034bf348eac56ff47aced961f]
reverse link ThreadClient to BlockingQueue--><path codeLine="62" d="M811.8813,712.5774 C806.1851,730.7549 800.9835,747.3542 797.0314,759.966 " fill="none" id="ThreadClient-backto-BlockingQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="815.7906,700.1021,810.1794,704.6314,812.2022,711.553,817.8134,707.0237,815.7906,700.1021" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[69a3978aa9162e135566941f8f8369fc]
reverse link ThreadClient to Socket--><path codeLine="63" d="M902.4479,712.5774 C908.0603,730.7549 913.1854,747.3542 917.0794,759.966 " fill="none" id="ThreadClient-backto-Socket" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="898.5961,700.1021,896.5443,707.0151,902.1364,711.568,904.1882,704.655,898.5961,700.1021" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5ae1e9734f1d55a883dbc6604809cf9a]
reverse link Thread to ThreadClient--><path codeLine="65" d="M638.8709,86.5671 C672.9324,161.4166 744.8735,319.5057 796.9484,433.9391 " fill="none" id="Thread-backto-ThreadClient" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="632.4146,89.2796,630.5019,68.1765,645.1572,83.4808,632.4146,89.2796" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ebf63986dc94b3dfb6e9190f831af313]
reverse link Thread to ThreadGame--><path codeLine="66" d="M567.7784,79.7867 C542.9567,97.5161 513.1166,119.6558 487.5,141 C341.604,262.563 299.9422,289.6905 176.5,434 C146.1288,469.5053 116.6573,515.2857 99.8361,542.8261 " fill="none" id="Thread-backto-ThreadGame" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="564.0676,73.8375,584.4392,68.0067,572.1501,85.2688,564.0676,73.8375" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[45816c4b66d60cd59a75214b6ae34644]
reverse link Thread to ThreadAcceptor--><path codeLine="67" d="M676.6795,65.5606 C740.8386,89.753 846.5729,129.6221 927.9103,160.2918 " fill="none" id="Thread-backto-ThreadAcceptor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="674.0286,72.0422,657.7845,58.4359,678.9681,58.9425,674.0286,72.0422" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[53be0b02c08632b583d94dcc5be7556c]
reverse link Thread to ReceiveClientMessages--><path codeLine="68" d="M592.1448,84.9212 C557.98,138.0956 500.3931,234.9363 470.5,326 C449.4549,390.1099 440.6592,467.886 437.0185,517.4123 " fill="none" id="Thread-backto-ReceiveClientMessages" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="586.3811,80.9446,603.1687,68.0149,598.1083,88.5914,586.3811,80.9446" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[603ffeff8c24cab0ec67b779866d1b35]
@startuml
class ReceiveClientMessages
class ThreadAcceptor 
class ThreadClient 
class ThreadGame
class Thread
class GameManager
class ProtectedQueue
class BlockingQueue
class Server
class Socket

Server : ThreadAcceptor acceptor
Server : start()

ReceiveClientMessages : ProtectedQueue<Message>* messages
ReceiveClientMessages : Socket peer
ReceiveClientMessages : assignToGameQueue(ProtectedQueue<Message>* messages)
ReceiveClientMessages : Socket& getPeerReference()

ThreadAcceptor : Socket socket
ThreadAcceptor : BlockingQueue<Message> messages
ThreadAcceptor : GameManager gameManager
ThreadAcceptor : void acceptConnection()
ThreadAcceptor : virtual void run() override
ThreadAcceptor : void shutdown()

ThreadClient : BlockingQueue<Message>* messages_out
ThreadClient : Socket& peer
ThreadClient : ServerStatus serverStatus
ThreadClient : LobbyStatus& lobbyStatus
ThreadClient : ClientGameStatus* game_status
ThreadClient : virtual void run() override
ThreadClient : void shutdown()
ThreadClient : void assignToOutQueue(BlockingQueue<Message>* messages_out)
ThreadClient : void assignToGameStatus(ClientGameStatus* gs)
ThreadClient : void sendGamesList()
ThreadClient : void sendMapsList()
ThreadClient : void sendLobbyStatus(int gameID)
ThreadClient : void sendGameStatistics()
ThreadClient : void informClientId()
ThreadClient : void sendCurrentGameMap()
ThreadClient : void informNothingToReport()
ThreadClient : void informSomethingToReport(MessageType type)

Server *- - ThreadAcceptor
ThreadAcceptor *- - Socket
ThreadAcceptor *- - BlockingQueue
ThreadAcceptor *- - GameManager

GameManager *- - ProtectedQueue
GameManager *- - ThreadGame
GameManager *- - ReceiveClientMessages
GameManager *- - ThreadClient

ReceiveClientMessages *- - ProtectedQueue
ReceiveClientMessages *- - Socket

ThreadGame *- - ProtectedQueue
ThreadGame *- - BlockingQueue
ThreadGame *- - GameStatus

ThreadClient *- - BlockingQueue
ThreadClient *- - Socket

Thread <|- - ThreadClient
Thread <|- - ThreadGame
Thread <|- - ThreadAcceptor
Thread <|- - ReceiveClientMessages
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>