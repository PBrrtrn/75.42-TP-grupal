<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="822px" preserveAspectRatio="none" style="width:1245px;height:822px;" version="1.1" viewBox="0 0 1245 822" width="1245px" zoomAndPan="magnify"><defs><filter height="300%" id="fd8b52qsdb96j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[3bea53ccf6733ec0a6bd6e135d4751c0]
class ReceiveClientMessages--><rect codeLine="1" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="99.2188" id="ReceiveClientMessages" style="stroke:#A80036;stroke-width:1.5;" width="373" x="617.0235" y="517.5"/><ellipse cx="726.2735" cy="533.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M729.2422,539.1406 Q728.6641,539.4375 728.0235,539.5781 Q727.3829,539.7344 726.6797,539.7344 Q724.1797,539.7344 722.8516,538.0938 Q721.5391,536.4375 721.5391,533.3125 Q721.5391,530.1875 722.8516,528.5313 Q724.1797,526.875 726.6797,526.875 Q727.3829,526.875 728.0235,527.0313 Q728.6797,527.1875 729.2422,527.4844 L729.2422,530.2031 Q728.6172,529.625 728.0235,529.3594 Q727.4297,529.0781 726.8047,529.0781 Q725.461,529.0781 724.7735,530.1563 Q724.086,531.2188 724.086,533.3125 Q724.086,535.4063 724.7735,536.4844 Q725.461,537.5469 726.8047,537.5469 Q727.4297,537.5469 728.0235,537.2813 Q728.6172,537 729.2422,536.4219 L729.2422,539.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="146" x="746.7735" y="537.6543">ReceiveClientMessages</text><line style="stroke:#A80036;stroke-width:1.5;" x1="618.0235" x2="989.0235" y1="549.5" y2="549.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="623.0235" y="563.7104">ProtectedQueue&lt;Message&gt;* messages</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="623.0235" y="576.5151">Socket peer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="618.0235" x2="989.0235" y1="583.1094" y2="583.1094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="361" x="623.0235" y="597.3198">assignToGameQueue(ProtectedQueue&lt;Message&gt;* messages)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="623.0235" y="610.1245">Socket&amp; getPeerReference()</text><!--MD5=[30d3d66b26596bc6e69208cfad4dc670]
class ThreadAcceptor--><rect codeLine="2" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="124.8281" id="ThreadAcceptor" style="stroke:#A80036;stroke-width:1.5;" width="229" x="111.0235" y="141"/><ellipse cx="171.2735" cy="157" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M174.2423,162.6406 Q173.6641,162.9375 173.0235,163.0781 Q172.3829,163.2344 171.6798,163.2344 Q169.1798,163.2344 167.8516,161.5938 Q166.5391,159.9375 166.5391,156.8125 Q166.5391,153.6875 167.8516,152.0313 Q169.1798,150.375 171.6798,150.375 Q172.3829,150.375 173.0235,150.5313 Q173.6798,150.6875 174.2423,150.9844 L174.2423,153.7031 Q173.6173,153.125 173.0235,152.8594 Q172.4298,152.5781 171.8048,152.5781 Q170.461,152.5781 169.7735,153.6563 Q169.086,154.7188 169.086,156.8125 Q169.086,158.9063 169.7735,159.9844 Q170.461,161.0469 171.8048,161.0469 Q172.4298,161.0469 173.0235,160.7813 Q173.6173,160.5 174.2423,159.9219 L174.2423,162.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="191.7735" y="161.1543">ThreadAcceptor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="112.0235" x2="339.0235" y1="173" y2="173"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="117.0235" y="187.2104">Socket socket</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="117.0235" y="200.0151">BlockingQueue&lt;Message&gt; messages</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="117.0235" y="212.8198">GameManager gameManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="112.0235" x2="339.0235" y1="219.4141" y2="219.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="117.0235" y="233.6245">void acceptConnection()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="117.0235" y="246.4292">virtual void run() override</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="117.0235" y="259.2339">void shutdown()</text><!--MD5=[3f436c9825679e3c1347a6e8427609f2]
class ThreadClient--><rect codeLine="3" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="265.6797" id="ThreadClient" style="stroke:#A80036;stroke-width:1.5;" width="403" x="179.0235" y="434"/><ellipse cx="336.7735" cy="450" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M339.7423,455.6406 Q339.1641,455.9375 338.5235,456.0781 Q337.8829,456.2344 337.1798,456.2344 Q334.6798,456.2344 333.3516,454.5938 Q332.0391,452.9375 332.0391,449.8125 Q332.0391,446.6875 333.3516,445.0313 Q334.6798,443.375 337.1798,443.375 Q337.8829,443.375 338.5235,443.5313 Q339.1798,443.6875 339.7423,443.9844 L339.7423,446.7031 Q339.1173,446.125 338.5235,445.8594 Q337.9298,445.5781 337.3048,445.5781 Q335.961,445.5781 335.2735,446.6563 Q334.586,447.7188 334.586,449.8125 Q334.586,451.9063 335.2735,452.9844 Q335.961,454.0469 337.3048,454.0469 Q337.9298,454.0469 338.5235,453.7813 Q339.1173,453.5 339.7423,452.9219 L339.7423,455.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="357.2735" y="454.1543">ThreadClient</text><line style="stroke:#A80036;stroke-width:1.5;" x1="180.0235" x2="581.0235" y1="466" y2="466"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="185.0235" y="480.2104">BlockingQueue&lt;Message&gt;* messages_out</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="185.0235" y="493.0151">Socket&amp; peer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="185.0235" y="505.8198">ServerStatus serverStatus</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="185.0235" y="518.6245">LobbyStatus&amp; lobbyStatus</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="185.0235" y="531.4292">ClientGameStatus* game_status</text><line style="stroke:#A80036;stroke-width:1.5;" x1="180.0235" x2="581.0235" y1="538.0234" y2="538.0234"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="185.0235" y="552.2339">virtual void run() override</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="185.0235" y="565.0386">void shutdown()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="391" x="185.0235" y="577.8433">void assignToOutQueue(BlockingQueue&lt;Message&gt;* messages_out)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="285" x="185.0235" y="590.6479">void assignToGameStatus(ClientGameStatus* gs)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="185.0235" y="603.4526">void sendGamesList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="185.0235" y="616.2573">void sendMapsList()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="185.0235" y="629.062">void sendLobbyStatus(int gameID)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="150" x="185.0235" y="641.8667">void sendGameStatistics()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="185.0235" y="654.6714">void informClientId()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="185.0235" y="667.4761">void sendCurrentGameMap()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="185.0235" y="680.2808">void informNothingToReport()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="290" x="185.0235" y="693.0854">void informSomethingToReport(MessageType type)</text><!--MD5=[bc64bb281ab94a7b933473e437a7b7ac]
class ThreadGame--><rect codeLine="4" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="48" id="ThreadGame" style="stroke:#A80036;stroke-width:1.5;" width="112" x="1096.5235" y="543"/><ellipse cx="1111.5235" cy="559" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1114.4923,564.6406 Q1113.9141,564.9375 1113.2735,565.0781 Q1112.6329,565.2344 1111.9298,565.2344 Q1109.4298,565.2344 1108.1016,563.5938 Q1106.7891,561.9375 1106.7891,558.8125 Q1106.7891,555.6875 1108.1016,554.0313 Q1109.4298,552.375 1111.9298,552.375 Q1112.6329,552.375 1113.2735,552.5313 Q1113.9298,552.6875 1114.4923,552.9844 L1114.4923,555.7031 Q1113.8673,555.125 1113.2735,554.8594 Q1112.6798,554.5781 1112.0548,554.5781 Q1110.711,554.5781 1110.0235,555.6563 Q1109.336,556.7188 1109.336,558.8125 Q1109.336,560.9063 1110.0235,561.9844 Q1110.711,563.0469 1112.0548,563.0469 Q1112.6798,563.0469 1113.2735,562.7813 Q1113.8673,562.5 1114.4923,561.9219 L1114.4923,564.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="1125.5235" y="563.1543">ThreadGame</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1097.5235" x2="1207.5235" y1="575" y2="575"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1097.5235" x2="1207.5235" y1="583" y2="583"/><!--MD5=[948346f2dfe9866ea883595a582714fa]
class Thread--><rect codeLine="5" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="48" id="Thread" style="stroke:#A80036;stroke-width:1.5;" width="76" x="636.5235" y="20"/><ellipse cx="651.5235" cy="36" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M654.4922,41.6406 Q653.9141,41.9375 653.2735,42.0781 Q652.6329,42.2344 651.9297,42.2344 Q649.4297,42.2344 648.1016,40.5938 Q646.7891,38.9375 646.7891,35.8125 Q646.7891,32.6875 648.1016,31.0313 Q649.4297,29.375 651.9297,29.375 Q652.6329,29.375 653.2735,29.5313 Q653.9297,29.6875 654.4922,29.9844 L654.4922,32.7031 Q653.8672,32.125 653.2735,31.8594 Q652.6797,31.5781 652.0547,31.5781 Q650.711,31.5781 650.0235,32.6563 Q649.336,33.7188 649.336,35.8125 Q649.336,37.9063 650.0235,38.9844 Q650.711,40.0469 652.0547,40.0469 Q652.6797,40.0469 653.2735,39.7813 Q653.8672,39.5 654.4922,38.9219 L654.4922,41.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="665.5235" y="40.1543">Thread</text><line style="stroke:#A80036;stroke-width:1.5;" x1="637.5235" x2="711.5235" y1="52" y2="52"/><line style="stroke:#A80036;stroke-width:1.5;" x1="637.5235" x2="711.5235" y1="60" y2="60"/><!--MD5=[9f25ac3f171096186e22cf7e7c9537a4]
class MessageProcessor--><rect codeLine="6" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="48" id="MessageProcessor" style="stroke:#A80036;stroke-width:1.5;" width="151" x="728.0235" y="179.5"/><ellipse cx="743.0235" cy="195.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M745.9922,201.1406 Q745.4141,201.4375 744.7735,201.5781 Q744.1329,201.7344 743.4297,201.7344 Q740.9297,201.7344 739.6016,200.0938 Q738.2891,198.4375 738.2891,195.3125 Q738.2891,192.1875 739.6016,190.5313 Q740.9297,188.875 743.4297,188.875 Q744.1329,188.875 744.7735,189.0313 Q745.4297,189.1875 745.9922,189.4844 L745.9922,192.2031 Q745.3672,191.625 744.7735,191.3594 Q744.1797,191.0781 743.5547,191.0781 Q742.211,191.0781 741.5235,192.1563 Q740.836,193.2188 740.836,195.3125 Q740.836,197.4063 741.5235,198.4844 Q742.211,199.5469 743.5547,199.5469 Q744.1797,199.5469 744.7735,199.2813 Q745.3672,199 745.9922,198.4219 L745.9922,201.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="757.0235" y="199.6543">MessageProcessor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="729.0235" x2="878.0235" y1="211.5" y2="211.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="729.0235" x2="878.0235" y1="219.5" y2="219.5"/><!--MD5=[ebecb9917226677787fac7e9a2731304]
class GameManager--><rect codeLine="7" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="48" id="GameManager" style="stroke:#A80036;stroke-width:1.5;" width="123" x="742.0235" y="326"/><ellipse cx="757.0235" cy="342" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M759.9922,347.6406 Q759.4141,347.9375 758.7735,348.0781 Q758.1329,348.2344 757.4297,348.2344 Q754.9297,348.2344 753.6016,346.5938 Q752.2891,344.9375 752.2891,341.8125 Q752.2891,338.6875 753.6016,337.0313 Q754.9297,335.375 757.4297,335.375 Q758.1329,335.375 758.7735,335.5313 Q759.4297,335.6875 759.9922,335.9844 L759.9922,338.7031 Q759.3672,338.125 758.7735,337.8594 Q758.1797,337.5781 757.5547,337.5781 Q756.211,337.5781 755.5235,338.6563 Q754.836,339.7188 754.836,341.8125 Q754.836,343.9063 755.5235,344.9844 Q756.211,346.0469 757.5547,346.0469 Q758.1797,346.0469 758.7735,345.7813 Q759.3672,345.5 759.9922,344.9219 L759.9922,347.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="771.0235" y="346.1543">GameManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="743.0235" x2="864.0235" y1="358" y2="358"/><line style="stroke:#A80036;stroke-width:1.5;" x1="743.0235" x2="864.0235" y1="366" y2="366"/><!--MD5=[f28065692c26ab0fa9564e65423900b5]
class ProtectedQueue--><rect codeLine="8" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="48" id="ProtectedQueue" style="stroke:#A80036;stroke-width:1.5;" width="135" x="952.0235" y="760"/><ellipse cx="967.0235" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M969.9922,781.6406 Q969.4141,781.9375 968.7735,782.0781 Q968.1329,782.2344 967.4297,782.2344 Q964.9297,782.2344 963.6016,780.5938 Q962.2891,778.9375 962.2891,775.8125 Q962.2891,772.6875 963.6016,771.0313 Q964.9297,769.375 967.4297,769.375 Q968.1329,769.375 968.7735,769.5313 Q969.4297,769.6875 969.9922,769.9844 L969.9922,772.7031 Q969.3672,772.125 968.7735,771.8594 Q968.1797,771.5781 967.5547,771.5781 Q966.211,771.5781 965.5235,772.6563 Q964.836,773.7188 964.836,775.8125 Q964.836,777.9063 965.5235,778.9844 Q966.211,780.0469 967.5547,780.0469 Q968.1797,780.0469 968.7735,779.7813 Q969.3672,779.5 969.9922,778.9219 L969.9922,781.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="981.0235" y="780.1543">ProtectedQueue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="953.0235" x2="1086.0235" y1="792" y2="792"/><line style="stroke:#A80036;stroke-width:1.5;" x1="953.0235" x2="1086.0235" y1="800" y2="800"/><!--MD5=[10c8066ce5c6dabe6ea36d69e6deeabd]
class BlockingQueue--><rect codeLine="9" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="48" id="BlockingQueue" style="stroke:#A80036;stroke-width:1.5;" width="125" x="385.0235" y="760"/><ellipse cx="400.0235" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M402.9923,781.6406 Q402.4141,781.9375 401.7735,782.0781 Q401.1329,782.2344 400.4298,782.2344 Q397.9298,782.2344 396.6016,780.5938 Q395.2891,778.9375 395.2891,775.8125 Q395.2891,772.6875 396.6016,771.0313 Q397.9298,769.375 400.4298,769.375 Q401.1329,769.375 401.7735,769.5313 Q402.4298,769.6875 402.9923,769.9844 L402.9923,772.7031 Q402.3673,772.125 401.7735,771.8594 Q401.1798,771.5781 400.5548,771.5781 Q399.211,771.5781 398.5235,772.6563 Q397.836,773.7188 397.836,775.8125 Q397.836,777.9063 398.5235,778.9844 Q399.211,780.0469 400.5548,780.0469 Q401.1798,780.0469 401.7735,779.7813 Q402.3673,779.5 402.9923,778.9219 L402.9923,781.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="414.0235" y="780.1543">BlockingQueue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="386.0235" x2="509.0235" y1="792" y2="792"/><line style="stroke:#A80036;stroke-width:1.5;" x1="386.0235" x2="509.0235" y1="800" y2="800"/><!--MD5=[c60af77fe5573b84a4aa4bce89659574]
class Server--><rect codeLine="10" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="73.6094" id="Server" style="stroke:#A80036;stroke-width:1.5;" width="154" x="148.5235" y="7"/><ellipse cx="201.2735" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M204.2423,28.6406 Q203.6641,28.9375 203.0235,29.0781 Q202.3829,29.2344 201.6798,29.2344 Q199.1798,29.2344 197.8516,27.5938 Q196.5391,25.9375 196.5391,22.8125 Q196.5391,19.6875 197.8516,18.0313 Q199.1798,16.375 201.6798,16.375 Q202.3829,16.375 203.0235,16.5313 Q203.6798,16.6875 204.2423,16.9844 L204.2423,19.7031 Q203.6173,19.125 203.0235,18.8594 Q202.4298,18.5781 201.8048,18.5781 Q200.461,18.5781 199.7735,19.6563 Q199.086,20.7188 199.086,22.8125 Q199.086,24.9063 199.7735,25.9844 Q200.461,27.0469 201.8048,27.0469 Q202.4298,27.0469 203.0235,26.7813 Q203.6173,26.5 204.2423,25.9219 L204.2423,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="221.7735" y="27.1543">Server</text><line style="stroke:#A80036;stroke-width:1.5;" x1="149.5235" x2="301.5235" y1="39" y2="39"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="154.5235" y="53.2104">ThreadAcceptor acceptor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="149.5235" x2="301.5235" y1="59.8047" y2="59.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="154.5235" y="74.0151">start()</text><!--MD5=[8f07f51d887e64eddc161f608ee0ddb0]
class Socket--><rect codeLine="11" fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="48" id="Socket" style="stroke:#A80036;stroke-width:1.5;" width="75" x="275.0235" y="760"/><ellipse cx="290.0235" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M292.9923,781.6406 Q292.4141,781.9375 291.7735,782.0781 Q291.1329,782.2344 290.4298,782.2344 Q287.9298,782.2344 286.6016,780.5938 Q285.2891,778.9375 285.2891,775.8125 Q285.2891,772.6875 286.6016,771.0313 Q287.9298,769.375 290.4298,769.375 Q291.1329,769.375 291.7735,769.5313 Q292.4298,769.6875 292.9923,769.9844 L292.9923,772.7031 Q292.3673,772.125 291.7735,771.8594 Q291.1798,771.5781 290.5548,771.5781 Q289.211,771.5781 288.5235,772.6563 Q287.836,773.7188 287.836,775.8125 Q287.836,777.9063 288.5235,778.9844 Q289.211,780.0469 290.5548,780.0469 Q291.1798,780.0469 291.7735,779.7813 Q292.3673,779.5 292.9923,778.9219 L292.9923,781.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="43" x="304.0235" y="780.1543">Socket</text><line style="stroke:#A80036;stroke-width:1.5;" x1="276.0235" x2="349.0235" y1="792" y2="792"/><line style="stroke:#A80036;stroke-width:1.5;" x1="276.0235" x2="349.0235" y1="800" y2="800"/><!--MD5=[48fd9ba0f431717e30ffacaf4852bc92]
class GameStatus--><rect fill="#FEFECE" filter="url(#fd8b52qsdb96j)" height="48" id="GameStatus" style="stroke:#A80036;stroke-width:1.5;" width="109" x="1122.0235" y="760"/><ellipse cx="1137.0235" cy="776" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1139.9923,781.6406 Q1139.4141,781.9375 1138.7735,782.0781 Q1138.1329,782.2344 1137.4298,782.2344 Q1134.9298,782.2344 1133.6016,780.5938 Q1132.2891,778.9375 1132.2891,775.8125 Q1132.2891,772.6875 1133.6016,771.0313 Q1134.9298,769.375 1137.4298,769.375 Q1138.1329,769.375 1138.7735,769.5313 Q1139.4298,769.6875 1139.9923,769.9844 L1139.9923,772.7031 Q1139.3673,772.125 1138.7735,771.8594 Q1138.1798,771.5781 1137.5548,771.5781 Q1136.211,771.5781 1135.5235,772.6563 Q1134.836,773.7188 1134.836,775.8125 Q1134.836,777.9063 1135.5235,778.9844 Q1136.211,780.0469 1137.5548,780.0469 Q1138.1798,780.0469 1138.7735,779.7813 Q1139.3673,779.5 1139.9923,778.9219 L1139.9923,781.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="1151.0235" y="780.1543">GameStatus</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1123.0235" x2="1230.0235" y1="792" y2="792"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1123.0235" x2="1230.0235" y1="800" y2="800"/><!--MD5=[01a7d47ec62bd03ae5d80126c8e76d1a]
reverse link Server to ThreadAcceptor--><path codeLine="46" d="M225.5235,94.4009 C225.5235,109.1122 225.5235,125.3719 225.5235,140.7476 " fill="none" id="Server-backto-ThreadAcceptor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="225.5235,81.3957,221.5235,87.3957,225.5235,93.3957,229.5235,87.3957,225.5235,81.3957" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f7db66eee58e8b9a16e109d35d284983]
reverse link ThreadAcceptor to Socket--><path codeLine="47" d="M132.79,275.663 C119.2419,290.7323 107.2669,307.672 99.5235,326 C34.8332,479.1176 6,562.584 99.5235,700 C119.9321,729.9866 219.4919,759.9088 274.9787,774.6188 " fill="none" id="ThreadAcceptor-backto-Socket" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="141.8916,266.0346,134.8631,267.6471,133.6483,274.7551,140.6768,273.1426,141.8916,266.0346" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[47343c8a05df53115bb9a6598280498d]
reverse link ThreadAcceptor to BlockingQueue--><path codeLine="48" d="M185.9767,278.1355 C136.3553,383.2277 68.358,575.8275 161.5235,700 C218.7538,776.2773 276.0759,732.9657 367.5235,760 C373.0858,761.6443 378.8629,763.3607 384.652,765.0866 " fill="none" id="ThreadAcceptor-backto-BlockingQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.6217,266.3837,185.4182,270.0601,186.4258,277.2005,192.6294,273.5241,191.6217,266.3837" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2822370ead81644f4ef78791b2948b88]
reverse link ThreadAcceptor to GameManager--><path codeLine="49" d="M353.0182,235.8148 C473.6082,266.3796 649.457,310.9503 741.7346,334.339 " fill="none" id="ThreadAcceptor-backto-GameManager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="340.0631,232.5312,344.8964,237.8828,351.6952,235.4796,346.862,230.128,340.0631,232.5312" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1ed54c3e5020f6347d844cfb7b3f1184]
reverse link GameManager to ProtectedQueue--><path codeLine="51" d="M877.8603,360.2061 C923.281,370.6438 978.121,391.6824 1007.5235,434 C1078.4686,536.1079 1043.7254,698.4267 1026.8755,759.6023 " fill="none" id="GameManager-backto-ProtectedQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="865.0237,357.4746,870.0597,362.6358,876.7609,359.9723,871.7249,354.811,865.0237,357.4746" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7f1fd960b892da287f21b72eac4049b7]
reverse link GameManager to ThreadGame--><path codeLine="52" d="M878.1073,359.2796 C935.3525,369.5545 1013.772,390.7866 1069.5235,434 C1106.632,462.763 1131.4167,513.1512 1143.6369,542.9617 " fill="none" id="GameManager-backto-ThreadGame" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="865.1361,357.0727,870.3802,362.0224,876.9661,359.0854,871.722,354.1357,865.1361,357.0727" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c3416dc337c2bf92dcb1494172a475fe]
reverse link GameManager to ReceiveClientMessages--><path codeLine="53" d="M803.5235,387.3001 C803.5235,423.2436 803.5235,477.8529 803.5235,517.4369 " fill="none" id="GameManager-backto-ReceiveClientMessages" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="803.5235,374.0519,799.5235,380.0519,803.5235,386.0519,807.5235,380.0519,803.5235,374.0519" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4a3d0f8df3e9cc8bd80bb82661a254a8]
reverse link GameManager to ThreadClient--><path codeLine="54" d="M729.5774,377.2506 C690.288,392.5234 641.5594,412.7428 599.5235,434 C593.7676,436.9107 587.9611,439.9184 582.1283,443.0027 " fill="none" id="GameManager-backto-ThreadClient" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="741.7153,372.5724,734.6782,370.9978,730.5182,376.888,737.5553,378.4626,741.7153,372.5724" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9a9a6431d3280ae52bb26cef263d53fc]
reverse link MessageProcessor to GameManager--><path codeLine="56" d="M803.5235,240.7699 C803.5235,267.4661 803.5235,302.6452 803.5235,325.7726 " fill="none" id="MessageProcessor-backto-GameManager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="803.5235,227.6915,799.5235,233.6915,803.5235,239.6915,807.5235,233.6915,803.5235,227.6915" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c5ac4c021a6f11041830751f2d8f9186]
reverse link ReceiveClientMessages to ProtectedQueue--><path codeLine="58" d="M862.2023,625.9504 C905.961,669.9117 963.4768,727.6938 995.4468,759.8118 " fill="none" id="ReceiveClientMessages-backto-ProtectedQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="852.8076,616.5122,854.2055,623.5865,861.2733,625.017,859.8754,617.9427,852.8076,616.5122" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4c7071563261bcead7af728ba3b72821]
reverse link ReceiveClientMessages to Socket--><path codeLine="59" d="M728.3939,624.4251 C691.2474,650.5633 644.7653,680.0446 599.5235,700 C502.0782,742.9815 468.202,725.26 367.5235,760 C361.8115,761.971 355.8646,764.2808 350.0824,766.6747 " fill="none" id="ReceiveClientMessages-backto-Socket" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="739.1113,616.7947,731.9036,617.0161,729.3358,623.7546,736.5435,623.5331,739.1113,616.7947" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[013ded52f064711aed883b4b0e87e7d7]
reverse link ThreadGame to ProtectedQueue--><path codeLine="61" d="M1130.9809,602.1486 C1103.8199,646.4639 1057.8414,721.4814 1034.3311,759.8404 " fill="none" id="ThreadGame-backto-ProtectedQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1137.7821,591.0519,1131.2363,594.0772,1131.5113,601.2831,1138.0571,598.2578,1137.7821,591.0519" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[99c175df014cae412f2891de0e2ffb2d]
reverse link ThreadGame to BlockingQueue--><path codeLine="62" d="M1125.8402,601.0499 C1099.3663,632.227 1055.849,676.9193 1007.5235,700 C920.3648,741.6278 637.0697,768.8412 510.09,779.2425 " fill="none" id="ThreadGame-backto-BlockingQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1134.1472,591.0456,1127.2368,593.1063,1126.4812,600.2777,1133.3915,598.217,1134.1472,591.0456" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[84685d034a947785d9b7986eb8687fe4]
reverse link ThreadGame to GameStatus--><path codeLine="63" d="M1156.6322,604.1488 C1161.5584,648.6903 1169.6722,722.0527 1173.8515,759.8404 " fill="none" id="ThreadGame-backto-GameStatus" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1155.1837,591.0519,1151.8675,597.4553,1156.5029,602.9792,1159.8191,596.5758,1155.1837,591.0519" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6863a0c034bf348eac56ff47aced961f]
reverse link ThreadClient to BlockingQueue--><path codeLine="65" d="M425.4714,712.5774 C431.0838,730.7549 436.2089,747.3542 440.1029,759.966 " fill="none" id="ThreadClient-backto-BlockingQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="421.6196,700.1021,419.5678,707.0151,425.1599,711.568,427.2117,704.6549,421.6196,700.1021" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[69a3978aa9162e135566941f8f8369fc]
reverse link ThreadClient to Socket--><path codeLine="66" d="M334.9048,712.5774 C329.2086,730.7549 324.007,747.3542 320.0549,759.966 " fill="none" id="ThreadClient-backto-Socket" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="338.8141,700.1021,333.2029,704.6314,335.2257,711.553,340.8369,707.0237,338.8141,700.1021" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5ae1e9734f1d55a883dbc6604809cf9a]
reverse link Thread to ThreadClient--><path codeLine="68" d="M651.1305,85.6141 C609.2772,160.0675 519.9247,319.0177 455.3226,433.9391 " fill="none" id="Thread-backto-ThreadClient" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="645.0305,82.1805,660.933,68.1765,657.2344,89.0408,645.0305,82.1805" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ebf63986dc94b3dfb6e9190f831af313]
reverse link Thread to ThreadGame--><path codeLine="69" d="M731.9072,58.4316 C780.2029,72.889 848.8295,99.1005 896.5235,141 C1032.977,260.8752 1118.1154,471.6393 1144.0689,542.7726 " fill="none" id="Thread-backto-ThreadGame" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="729.9024,65.1392,712.574,52.9438,733.7254,51.6713,729.9024,65.1392" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[45816c4b66d60cd59a75214b6ae34644]
reverse link Thread to ThreadAcceptor--><path codeLine="70" d="M617.1873,64.3678 C547.7238,89.0436 429.0122,131.2139 340.4463,162.6756 " fill="none" id="Thread-backto-ThreadAcceptor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="615.0526,57.6976,636.2421,57.5989,619.7391,70.8899,615.0526,57.6976" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[53be0b02c08632b583d94dcc5be7556c]
reverse link Thread to ReceiveClientMessages--><path codeLine="71" d="M677.846,88.0909 C683.4156,152.0365 696.8583,273.8225 724.5235,374 C738.4019,424.2545 761.6632,479.0391 779.3604,517.3566 " fill="none" id="Thread-backto-ReceiveClientMessages" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="670.8579,88.5217,676.1939,68.015,684.8107,87.3735,670.8579,88.5217" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8b4b4d25a2f9a24936f6fe06cf77bb62]
reverse link Thread to MessageProcessor--><path codeLine="72" d="M706.9612,84.107 C731.2025,114.0798 763.5471,154.0717 783.9586,179.3092 " fill="none" id="Thread-backto-MessageProcessor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="701.2502,88.1772,694.1159,68.2246,712.1356,79.3733,701.2502,88.1772" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[725ea6f780bb04255f316e31fcd8c5f9]
@startuml
class ReceiveClientMessages
class ThreadAcceptor 
class ThreadClient 
class ThreadGame
class Thread
class MessageProcessor
class GameManager
class ProtectedQueue
class BlockingQueue
class Server
class Socket

Server : ThreadAcceptor acceptor
Server : start()

ReceiveClientMessages : ProtectedQueue<Message>* messages
ReceiveClientMessages : Socket peer
ReceiveClientMessages : assignToGameQueue(ProtectedQueue<Message>* messages)
ReceiveClientMessages : Socket& getPeerReference()

ThreadAcceptor : Socket socket
ThreadAcceptor : BlockingQueue<Message> messages
ThreadAcceptor : GameManager gameManager
ThreadAcceptor : void acceptConnection()
ThreadAcceptor : virtual void run() override
ThreadAcceptor : void shutdown()

ThreadClient : BlockingQueue<Message>* messages_out
ThreadClient : Socket& peer
ThreadClient : ServerStatus serverStatus
ThreadClient : LobbyStatus& lobbyStatus
ThreadClient : ClientGameStatus* game_status
ThreadClient : virtual void run() override
ThreadClient : void shutdown()
ThreadClient : void assignToOutQueue(BlockingQueue<Message>* messages_out)
ThreadClient : void assignToGameStatus(ClientGameStatus* gs)
ThreadClient : void sendGamesList()
ThreadClient : void sendMapsList()
ThreadClient : void sendLobbyStatus(int gameID)
ThreadClient : void sendGameStatistics()
ThreadClient : void informClientId()
ThreadClient : void sendCurrentGameMap()
ThreadClient : void informNothingToReport()
ThreadClient : void informSomethingToReport(MessageType type)

Server *- - ThreadAcceptor
ThreadAcceptor *- - Socket
ThreadAcceptor *- - BlockingQueue
ThreadAcceptor *- - GameManager

GameManager *- - ProtectedQueue
GameManager *- - ThreadGame
GameManager *- - ReceiveClientMessages
GameManager *- - ThreadClient

MessageProcessor *- - GameManager

ReceiveClientMessages *- - ProtectedQueue
ReceiveClientMessages *- - Socket

ThreadGame *- - ProtectedQueue
ThreadGame *- - BlockingQueue
ThreadGame *- - GameStatus

ThreadClient *- - BlockingQueue
ThreadClient *- - Socket

Thread <|- - ThreadClient
Thread <|- - ThreadGame
Thread <|- - ThreadAcceptor
Thread <|- - ReceiveClientMessages
Thread <|- - MessageProcessor
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>